# Warning Legacy Code

## Техническое задание
- Создать API-интерфейс REST используя фреймворк Nest.js, который отдает список пользователей с их контактной информацией (номер телефона, адрес и т.п.).
- Вывести справочник пользователей в виде таблицы, используя кастомизированный компонент v-data-table (Vuetify). Кастомизация заключается в том, что необходимо добавить возможность фильтрации данных в таблице по столбцам.
- Сделать форму добавления нового пользователя с его номером телефона, адресом и т.п., валидация данных должна быть на клиенте и на сервере, сохранение данных в БД
- Сделать кнопку удаления записи с подтверждением намерений

## Требования:
- Проект запускается и работает на localhost
- Использовать систему контроля версий git
- Зависимости не хранятся в проекте, а устанавливаются через npm
- База Postgres (приложить дамп)

## Хорошо, если:
- Кастомизированная таблица оформлена в виде самостоятельного компонента с возможностью переиспользования
- Используется Eslint

## Очень хорошо, если:
- В качестве дополнительного задания - с помощью вебсокетов динамически отображать изменения в справочнике (проверить с двух браузеров - в одном добавляем/удаляем запись, а во втором видим изменения)
- Используется docker для того, чтобы развернуть всё необходимое по проекту
- Код покрыт тестами (backend/frontend)

## Комментарии о проделанной работе
Программа запускается на следующих портах:
- Client:
```
http://localhost:8080
```
- Server:
```
http://localhost:5000
```
- PostgreSQL:
```
http://localhost:5432
```
Конфигурация Сервера и БД находится в папке [server](https://github.com/TROLLred/sgmk-trade-test-app/tree/main/server) в файлах: 
- [.env](https://github.com/TROLLred/sgmk-trade-test-app/blob/main/server/.env) 
- [.development.env](https://github.com/TROLLred/sgmk-trade-test-app/blob/main/server/.development.env) 
- [.production.env](https://github.com/TROLLred/sgmk-trade-test-app/blob/main/server/.production.env)
## Реализация
- Соблюден компонентный подход, всё максимально декомпозированно для большей переиспользуемости и расширяемости;
- Тамблица имеет модальное окно для подтверждения удаления, а также 2 сортируемых столбца и 4 фильтруемых;
- Используется линтер Eslint на клиенте и на сервере;
- Обработаны отлов ошибок и валидация; 
- Сервер на Nest и БД на PostgreSQL связаны с помощью Sequelize;
- Клиент на Vue и Сервер связаны запросами с помощью Axios (Асинхронные get, post, delete запросы с клиента на сервер);
```
CORS не пропускал запросы, пришлось прописать его на серверной части
```
- Дамп базы данных в папке [database](https://github.com/TROLLred/sgmk-trade-test-app/tree/main/database) в файле [chechens_pg_dump](https://github.com/TROLLred/sgmk-trade-test-app/blob/main/database/chechens_pg_dump).
```
Делал дамп через pgAdmin 4. На всякий случай сделал в двух форматах, боюсь, что там слетела кодировка,
либо я как-то еще облажался.
```
## От себя
Данное задание выполнено за 3 дня. 
Хотелось попробовать использовать docker, тем более что был пример, а также WebSocket, но сил на это уже нет, да и хочется поскорее сдать данную работу на провереку. 
Я даже удивился, что вообще способен сделать БД и нормальный небольшой сервер. По мере выполнения проекта, столкнулся с рядом ошибок, в том числе от самого линтера, что
в свою очередь прибавило понимание некоторых тонкостей и открыло для меня что-то новое (когда про CORS узнал вообще удивился).
